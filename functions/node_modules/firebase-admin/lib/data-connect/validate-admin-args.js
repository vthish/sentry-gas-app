
"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports._validateAdminArgs = _validateAdminArgs;
const index_1 = require("./index");
const data_connect_api_client_internal_1 = require("./data-connect-api-client-internal");

function _validateAdminArgs(connectorConfig, dcOrVarsOrOptions, varsOrOptions, options, hasVars, validateVars) {
    let dcInstance;
    let realVars;
    let realOptions;
    if (dcOrVarsOrOptions && 'connectorConfig' in dcOrVarsOrOptions) {
        dcInstance = dcOrVarsOrOptions;
        if (hasVars) {
            realVars = varsOrOptions;
            realOptions = options;
        }
        else {
            realVars = undefined;
            realOptions = varsOrOptions;
        }
    }
    else {
        dcInstance = (0, index_1.getDataConnect)(connectorConfig);
        if (hasVars) {
            realVars = dcOrVarsOrOptions;
            realOptions = varsOrOptions;
        }
        else {
            realVars = undefined;
            realOptions = dcOrVarsOrOptions;
        }
    }
    if (!dcInstance || (!realVars && validateVars)) {
        throw new data_connect_api_client_internal_1.FirebaseDataConnectError(data_connect_api_client_internal_1.DATA_CONNECT_ERROR_CODE_MAPPING.INVALID_ARGUMENT, 'Variables required.');
    }
    return { dc: dcInstance, vars: realVars, options: realOptions };
}

