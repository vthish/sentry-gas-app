"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.computeBundleId = computeBundleId;

function computeBundleId(obj, discriminatorFields) {
    const ids = [];
    let hasIds = false;
    for (const field of discriminatorFields) {
        const id = at(obj, field);
        if (id === undefined) {
            ids.push(null);
        }
        else {
            hasIds = true;
            ids.push(id);
        }
    }
    if (!hasIds) {
        return undefined;
    }
    return JSON.stringify(ids);
}

function at(obj, field) {
    const pathParts = field.split('.');

    let currentObj = obj;
    for (const pathPart of pathParts) {
        currentObj = currentObj === null || currentObj === void 0 ? void 0 : currentObj[pathPart];
    }
    return currentObj;
}

