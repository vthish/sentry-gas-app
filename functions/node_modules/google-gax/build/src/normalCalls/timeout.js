"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.addTimeoutArg = addTimeoutArg;

function addTimeoutArg(func, timeout, otherArgs, abTests) {


    return (argument, callback) => {
        const now = new Date();
        const options = otherArgs.options || {};
        options.deadline = new Date(now.getTime() + timeout);
        const metadata = otherArgs.metadataBuilder
            ? otherArgs.metadataBuilder(abTests, otherArgs.headers || {})
            : null;
        return func(argument, metadata, options, callback);
    };
}

