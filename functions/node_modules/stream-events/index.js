'use strict';

var stubs = require('stubs')


function StreamEvents(stream) {
  stream = stream || this

  var cfg = {
    callthrough: true,
    calls: 1
  }

  stubs(stream, '_read', cfg, stream.emit.bind(stream, 'reading'))
  stubs(stream, '_write', cfg, stream.emit.bind(stream, 'writing'))

  return stream
}

module.exports = StreamEvents

